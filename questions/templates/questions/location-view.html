{% extends 'questions/base.html' %}
{% load staticfiles %}
{% block sheet %}{% static 'questions/location_view.css' %}{% endblock %}
{% block Locations %}active{% endblock %}

{% block body %}
    <h2>Location: {{location.loc_name}} <span class="glyphicon glyphicon-ok pull-right" aria-hidden="true"></span></h2>
    <h4>Owner: {{location.user_assigned}} </h4>
<div class="card-block">
  <ul class="list-group">
    <li>
    <div class="row">
    <div class="col-sm-3 "> Device name</div>
    <div class="col-sm-3 "> Device Type</div>
    <div class="col-sm-3 "> Manufacturer</div>
    <div class="col-sm-2 "> Model Number</div>
    </div>
  </li>
    {% for dev in location.devices %}

        <a href="#collapse{{forloop.counter}}" class="list-group-item" data-toggle="collapse">
          <div class="row">
            <div class="col-sm-3"> {{dev.device_name}}  </div>
            <div class="col-sm-3"> {{dev.type_equip}}   </div>
            <div class="col-sm-3"> {{dev.manufacturer}} </div>
            <div class="col-sm-3"> {{dev.model_number}} </div>
            <!--<span class="glyphicon glyphicon-ok pull-right" aria-hidden="true"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-->
          </div>
        </a>
        <a href="{% url 'questions:deviceView' dev.id %}"/>
        <div id="collapse{{forloop.counter}}" class="panel-collapse collapse">
            <ul class="list-group">
                <a href="#" class="list-group-item">
                <li class="list-group-item">Thing One</li>
                </a>

            </ul>
        </div>

    {% endfor %}
  </ul>
</ul>
</div>

<div id="pieChart"></div>

<script>
var pie = new d3pie("pieChart", {"header":{"title":{"text":"Location Inspection Statistics","fontSize":24,"font":"open sans"},"subtitle":{"text":"Number of Location and Item Questions that are passing and failing","color":"#999999","fontSize":16,"font":"open sans"},"titleSubtitlePadding":5},"footer":{"color":"#999999","fontSize":10,"font":"open sans","location":"bottom-left"},"size":{"canvasHeight":400,"canvasWidth":550,"pieOuterRadius":"58%"},"data":{"sortOrder":"label-asc","content":[{"label":"Passing Location Questions","value":78327,"color":"#31da6f"},{"label":"Failing Location Questions","value":67706,"color":"#e61414"},{"label":"Passing Item Questions","value":36344,"color":"#48d74a"},{"label":"Failing Item Questions","value":32170,"color":"#ae1414"}]},"labels":{"outer":{"pieDistance":15},"inner":{"format":"value","hideWhenLessThanPercentage":3},"mainLabel":{"fontSize":14},"percentage":{"color":"#ffffff","decimalPlaces":0},"value":{"color":"#000000","fontSize":11},"lines":{"enabled":true},"truncation":{"enabled":true}},"effects":{"pullOutSegmentOnClick":{"effect":"linear","speed":400,"size":8}},"misc":{"gradient":{"enabled":true,"percentage":100}}});
</script>

{% endblock %}
